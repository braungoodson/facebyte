var facebyte = angular.module('facebyte',['ngRoute']);
facebyte.config(['$routeProvider',function($routeProvider){
	$routeProvider.when('/views/home',{
		templateUrl: 'views/home'
	});
	$routeProvider.when('/views/users/read',{
		templateUrl: 'views/users/read'
	});
	$routeProvider.when('/views/users/create',{
		templateUrl: 'views/users/create'
	});
	$routeProvider.when('/views/users/login',{
		templateUrl: 'views/users/login'
	});
	$routeProvider.otherwise({redirectTo:'/views/home'})
}]);
facebyte.factory('$facebyteCacheFactory',[function(){
	var factory = {};
	var user = new User();
	factory.getUser = function () {
		return user;
	}
	factory.setUser = function (u) {
		user = u;
	}
	return factory;
}]);
facebyte.controller('urlController',['$scope',function($scope){
	$scope.urls = [new Url(),new Url(),new Url(),new Url()];
	readUrls();
	function readUrls () {
		$scope.urls = [];
		$scope.urls = [
			new Url('/views/home','Home'),
			new Url('/views/users/read','Users'),
			new Url('/views/users/create','Create User')
		];
	}
}]);
facebyte.controller('usersLoginController',['$scope','$http','$facebyteCacheFactory',function($scope,$http,$facebyteCacheFactory){
	// adjshfaksdhfkladfhjskljdhsf
	$scope.user = $facebyteCacheFactory.getUser();
}]);
facebyte.controller('usersReadController',['$scope','$http','$facebyteCacheFactory',function($scope,$http,$facebyteCacheFactory){
	$scope.user = $facebyteCacheFactory.getUser();
	$scope.users = [new User(),new User(),new User(),new User()];
	//readUsers();	
	function readUsers () {
		$http({
			method: 'GET',
			url: 'http://localhost:30000/users'
		}).success(function(d,s,h,c){
				if (s == 200) {
					if (d.length) {
						$scope.users = [];
						for (var user in d) {
							$scope.users.push(new User(d[user]));
						}
					} else {
						console.warn(d,h());
					}
				} else {
					console.error(h());
				}
			});
	}
}]);
facebyte.controller('usersCreateController',['$scope','$http','$facebyteCacheFactory',function($scope,$http,$facebyteCacheFactory){
	$scope.user = $facebyteCacheFactory.getUser();
	$scope.createUser = createUser;
	(function f (next) {
		var input = document.getElementById('facebyteFile');
		input.addEventListener('change',function(event){
			var file = event.target.files[0];
			if (file.size < 1000) {
				throw new Error('Filesize too small.')
			}
			if (file.size > 10000) {
				throw new Error('Filesize too large.')
			}
			function unsupportedFileType(fileType) {
				switch (fileType) {
					case 'image/jpeg' : return false;
					case 'image/jpg' : return false;
					case 'image/png'  : return false;
					default : return true;
				}
			}
			console.log(file.type)
			if (unsupportedFileType(file.type)) {
				throw new Error('Filetype not supported.')
			}
			var reader = new FileReader();
			reader.onload = function (eevent) {
				var payload = eevent.target.result;
				next(payload);
			}
			reader.readAsDataURL(file);
		});		
	}(function(payload){
		console.log(payload)
	}));
	function createUser (debug) {
		if (debug) {

		} else {
			$http({
					method: 'POST',
					url: 'http://localhost:30000/users/'+$scope.user.usernameBase64()+'/'+$scope.user.passwordBase64()
			}).success(function(d,s,h,c){
				console.log(d,s,h(),c);
				if (s == 200) {
					if (d.length) {
						if (d.error) {
							console.log(d,h());
						} else {
							console.log(d);
							$scope.user.token = d.token;
						}
					} else {
						console.warn(d,h());
					}
				} else {
					console.error(d,h());
				}
			});
		}
	}
}]);

function Url (url,text) {
	this.href = url || "null";
	this.text = text || "Hyperlink";
}
function User (user) {
	if (user) {
		this = user;
	} else {
		return {
			username: "YWRtaW5pc3RyYXRvcg==",
			password: "YWRtaW5pc3RyYXRvcg==",
			token: 'NzY1RkRHU2tqaDg5NzZqa2doNTYzNEhKRkdoZmc3ODY1Rks0ODlrYmszNzQ3OExrdg==',
			facebyte: 'ZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDMEFBQUFrQ0FZQUFBQWRGYk5TQUFBV1JXbERRMUJKUTBNZ1VISnZabWxzWlFBQVdJVzFtQWRRVk1HV2h2dmVpVXdnNXpqa25ETkl6a2x5RkVsRFRwSkZ3QUFTSkNoS2txUW9vQ1JGUkFraWtnU1JJQWlvWUFaUkFVVkZrQ0JCZHRUVjkvYlZ2dHJhcXQwejFUTmZuZXA3YnMvOXUrL3Awd0N3Rm5xR2hRWER0QUNFaEVaRjJCanBrcHljWFVpWVZ3Q2lmQmlBT3VEekpFZUc2VmhabVlOL2EydFBLSDBwTmlINU05YS83L2ZmR3AyM1R5UVpBTWlLd2w3ZWtlUVFDdCtrOEJJNUxDSUtBTGlTd2c4UFJvVlJHRUZwZ0RHQ01rQUtuL2pKZnIrNTlDZDcvZWFHWDMzc2JQUW8zQXNBbHVEcEdlRUhBUDRoeFUrS0lmdFJZdUNYQUVEVGgzb0hoQUpBajZTd0p0bmYweHNBVm4xS0g0bVFrQU0vT1l6Q0lsNy9GTWZ2djhUMCtodlQwOVB2TC8vK0w3OE1xeDhRR1Jic2VlaC8rVGorWndzSmp2NXpEM3BLSTRRRzcvMnBEWmJTNXIwOTljMytjRml3MVYrL1Q2aTk3UjhPOWRwcitZZDlJd3h0L3ZhUDB2MG50ckw3dzNIK2Vudi94b2swK0JzbjBOUFU2ZzlIUk52WS8rSElHRnVEZjF4cjUvaDNiRDc2Zi8yK0FZWW1memdneXVUdnZZSU9tUDBkQXdnQUZzQVRrS044WW4vcUR2UU9oQjJLQ1BEemp5THBVR2FaandUSkpKUXNKVUdTazVGVitEOS94ditmOW5OOS9hWVZtMS9yQm1JZS9ZY3ZrdkpNMVlZcHp2Ri8rRHdTQUdoMXBVeHI1WC80K0hFVTZhY0F1TU5Qam82SStlMUQvdnhDQVJ5Z0FZeUFEWEFEZmlBQ0pJRWNVS0tzWTIxZ0FFeUJKYkFEenNBTmtJRS9DQUVSNENCSUFJa2dGV1NDMHlBZkZJTXlVQUdxd1ZYUUNGcEFPK2dHOThBUWVBZ2VnK2RnR3J3REg4RVNXQU5iRUFSaElDTEVBTEZCUEpBZ0pBN0pRU3FRSm1RQW1VTTJrRFBrQWZsQm9WQTBsQUFkaHpLaEhLZ1l1Z2pWUU5laFcxQTNOQUNOUVUraEdXZ0JXb1kyWVFSTWdCbGhMbGdJbG9aVllCM1lETGFEOThOK2NEZ2NCeWZEcCtCQ3VCeStBamZEM2ZBUS9CaWVoai9DcXdpQXdDT1lFYndJU1lRS1FnOWhpWEJCK0NJaUVFY1FHWWdDUkRtaUh0R0c2RWRNSUtZUmk0anZTRFNTQVVsQ1NpTFZrY1pJZXlRWkdZNDhnc3hDRmlPcmtjM0lYdVFFY2dhNWhQeUJJcUk0VWVJb05aUUp5Z25saHpxSVNrVVZvQzZqbWxCOXFNZW9kNmcxTkJyTmpCWkdLNk9OMGM3b1FIUThPZ3Q5RG4wTjNZVWVROCtpVnpFWURCdEdIS09Cc2NSNFlxSXdxWmdpekJWTUoyWWM4dzZ6Z2NWamViQnlXRU9zQ3pZVW00UXR3TlppTzdEajJEbnNGaFV0bFNDVkdwVWxsVGZWSWFwc3FrcXFOcXBScW5kVVd6ZzZuREJPQTJlSEM4UWw0Z3B4OWJnKzNBdmNDaDZQNThPcjRxM3hBZmhqK0VKOEEvNCtmZ2IvblVCUEVDUG9FVndKMFlSVGhDcENGK0VwWVlWSUpBb1J0WWt1eENqaUtXSU44Uzd4RlhHRG1vRmFpdHFFMnB2NktIVUpkVFAxT1BWbkdpb2FRUm9kR2plYU9Kb0NtaHMwb3pTTHRGUzBRclI2dEo2MFIyaExhRy9SVHRLdTBqSFF5ZEpaMG9YUVpkSFYwZzNRemROajZJWG9EZWk5NlpQcEsranYwczh5SUJqNEdmUVl5QXpIR1NvWitoamVNYUlaaFJsTkdBTVpNeG12TW80d0xqSFJNeWt3T1RERk1wVXczV0dhWmtZd0N6R2JNQWN6WnpNM01qOWgzbVRoWXRGaDhXRkpaNmxuR1dkWlorVmcxV2IxWWMxZ3ZjYjZtSFdUamNSbXdCYkVkb2F0aGUwbE81SmRqTjJhL1NEN2VmWSs5a1VPUmc1MURqSkhCa2NqeHpOT21GT00wNFl6bnJPQ2M1aHpsWXVieTRncmpLdUk2eTdYSWpjenR6WjNJSGNlZHdmM0FnOERqeVpQQUU4ZVR5ZlBCeElUU1ljVVRDb2s5WktXZURsNWpYbWplUy95anZCdThRbnoyZk1sOFYzamU4bVA0MWZoOStYUDQrL2hYeExnRWJBUVNCQ29FM2dtU0NXb0l1Z3ZlRmF3WDNCZFNGaklVU2hOcUVWb1hwaFYyRVE0VHJoTytJVUlVVVJMSkZ5a1hPU1JLRnBVUlRSSTlKem9RekZZVEZITVg2eEViRlFjRmxjU0R4QS9KejRtZ1pKUWxRaVZLSmVZbENSSTZrakdTTlpKemtneFM1bExKVW0xU0gyV0ZwQjJrVDRqM1MvOVEwWlJKbGltVXVhNUxMMnNxV3lTYkp2c3NweVlIRm11Uk82UlBGSGVVUDZvZkt2OFZ3VnhCUitGOHdwVGlneUtGb3BwaWoyS08wcktTaEZLOVVvTHlnTEtIc3FseXBNcWpDcFdLbGtxOTFWUnFycXFSMVhiVmIrckthbEZxVFdxZlZHWFZBOVNyMVdmM3lPOHgyZFA1WjVaRFQ0TlQ0MkxHdE9hSkUwUHpRdWEwMXE4V3A1YTVWcHZ0UG0xdmJVdmE4L3BpT29FNmx6Uithd3JveHVoMjZTN3JxZW1kMWl2U3graGI2U2ZvVDlpUUc5Z2IxQnM4TXFRejlEUHNNNXd5VWpSS042b3l4aGxiR1o4eG5qU2hNdUViRkpqc21TcWJIcll0TmVNWUdaclZtejJ4bHpNUE1LOHpRSzJNTFhJdFhpeFYzQnY2TjRXUzJCcFlwbHIrZEpLMkNyYzZyWTEydHJLdXNUNnZZMnNUWUpOdnkyRHJidHRyZTJhbmE1ZHR0MXpleEg3YVBzZUJ4b0hWNGNhaDNWSGZjY2N4MmtuYWFmRFRrUE83TTRCenEwdUdCY0hsOHN1cS9zTTl1WHZlK2VxNkpycSttUy84UDdZL1FOdTdHN0JibmZjYWR3OTNXOTRvRHdjUFdvOXRqMHRQY3M5VjcxTXZFcTlsc2g2NUxQa2o5N2Ezbm5lQ3o0YVBqaytjNzRhdmptKzgzNGFmcmwrQy81YS9nWCtpd0Y2QWNVQlh3T05BOHNDMTRNc2c2cUNkb01kZzYrRllFTThRbTZGMG9jR2hmWWU0RDRRZTJBc1REd3NOV3c2WEMwOFAzd3B3aXppY2lRVXVUK3lOWXFSc3BFWmpoYUpUb21laWRHTUtZblpPT2h3OEVZc1hXeG83UEFoc1VQcGgrYmlET011eFNQanlmRTlDYndKaVFremgzVU9YendDSGZFNjBuT1UvMmp5MFhmSGpJNVZKK0lTZ3hJZkpNa2s1U1I5Tys1NHZDMlpLL2xZOG15S1VVcGRLblZxUk9wa21ucGEyUW5raVlBVEkrbnk2VVhwUHpLOE13WXpaVElMTXJlenlGbURKMlZQRnA3Y1BlVjdhaVJiS2Z2OGFmVHAwTk5Qem1pZHFjNmh5NG5MbWMyMXlHM09JK1ZsNUgzTGQ4OGZLRkFvS0R1TE94dDlkcnJRdkxDMVNLRG9kTkYyc1gveDR4TGRrbXVsbktYcHBldm52TStObjljK1gxL0dWWlpadG5raDRNTFVSYU9MemVWQzVRVVY2SXFZaXZlVkRwWDlsMVF1MVZ4bXY1eDVlYWNxdEdxNjJxYTZ0MGE1cHFhV3N6YTdEcTZMcmx1NDRucmw0Vlg5cTYzMWt2VVhyekZmeTJ3QURkRU5INjU3WEgvU2FOYlljMFBsUnYxTndadWxUUXhOR2MxUTg2SG1wUmIvbHVsVzU5YXhXNmEzZXRyVTI1cHVTOTJ1YXVkdEw3bkRkQ2U3QTllUjNMSGJHZGU1MmhYV3RkanQxejNiNDk3ei9LN1QzVWU5MXIwamZXWjk5KzhaM3J2YnI5UGZlVi9qZnZ1QTJzQ3RRWlhCbGlHbG9lWmh4ZUdtQjRvUG1rYVVScHBIbFVkYkg2bytiQnZiTTlZeHJqWGVQYUUvY2UrUnlhT2h4M3NmanoyeGZ6STE2VG81UGVVOU5mODArT25YWnpIUHRwNGZlNEY2a2ZHUzltWEJLODVYNWE5RlgxK2JWcHErTTZNL00vekc5czN6V2ZMc3g3ZVJiN2ZmSmI4bnZpK1k0NW1ybVplYmIxOHdYSGo0WWQrSGR4L0RQbTR0cG42aSsxVDZXZVR6elMvYVg0YVhuSmJlZlkzNHVydWN0Y0syVXZWTjRWdlBxdFhxcTdXUXRhMzFqQTIyamVydkt0LzdOeDAzNTdZT2JtTzJDM2RFZDlwK21QMTRzUnV5dXh2bUdlSDVheXVBb0RUWTF4ZUE1U29BaU00QU1GRDJwempxMy92Zi96UUVaZk1CVTM3cEtMdUNMc2dNK2dMbkkxeVFtaWdGdENIR0IzdVphZ2F2UVNpaWhtaENhTi9TZXpOOFpDSXp6N0I2czczaXNPQnM1dWJpaVNDMThTN3o4d2dvQytvSUdRbnJpYWlKS29xSmlITkwwRWtpSmRlbDVxV2Z5UXpMZHNvMXlsY281Q2dtS1lVcDcxY3hWbFZVNDFaSHEzL2VNNm5ScFZtclZheWRyWk9obTY2WHFaOXRrR09ZYTVSbm5HK1NiNXBuZHNiOGxFWG0zaE9XS1ZiSHJZL2JKTnNldDB1MlQzWklja3gwT3VvYzd4SzdMOUkxZEgrQW03YzcyY1BITThncm1wem9mY3FueExmSzc0Wi9SOEQ5d0xHZ1o4R3pJWXVoYTJHSWNQb0l3VWpWS0t0b3Y1akRCOC9FVmgxcWl4dUpuMGxZUG9JNFNudU1QWkdVeEgrY0w1bVV3cG5LbXNaNGdpWWRsNEhNMk1sY3kvcHljdjdVVFBhTDAxTm5IdWRNNUk3bmplZVBGWXllZlZBNFdIUy91TGVrcTdUOVhPdjVwcktiRjFvdWRwVGZyM2hVK2ViU2w4czcxYmdhNWxyK09xa3JxbGYxNi9kZWMycnd1TzdYR0hJajR1YkJwdmptSXkySnJjbTMwdHJTYjJlMm43eHpxaU83TTZjcnY3dTRwK3h1Wlc5dFgvMjk2LzFOOTFzSGJnL2VHZW9ZN25yUVBkSTkydm53OWxqVCtKV0o4a2RuSDJjOVNaeU1tUXA4dXYrWjlYUDlGOG92eFY1eHZpYSsvakg5YWViWm03N1o2MjlMM3FXOFB6RG5QSys3SVA2QjhjUE94L2VMRHo0MWZUNzNKV1VwOUt2VHN1Nks1RGUyVmRUcTB0cUw5WHNiMTcrWGJxWnVoVzI3N09qOWtOeGwzdDM5cTc4dU5BYW5JV3lRZ2loMnRCVEdHQnRLZFFNUEU3eUlIVFJDdExuME9JWjBKaVJ6UE1zbW15LzdVMDVOcmtMdWp5UUZYbisrYlA0YWdTYkJWcUVXNGVzaTFhSmxZZ1hpbVJKSEpNT2x2S1R0Wll4azFlVWs1WGtVNkJRaHhXV2xHZVdIS2gycXRXb0Y2c2YyQkduWWEycHBpV216NjFEckluVjM5TmIwdnhqTUc4NFlUUm1QbVBTYXRwcGRNYjlna2JNMzFmS1FWWmgxZ0kydkxkbk95OTdkWWIramk1TzlzN1dMMlQ0RFY4Mzl5bTZ5N3VJZUlwN0NYaUprTVc4SkgybGZHVDlaZjlrQTJVQ1pJT2xneVJCS3FqMGdGYVlZcmhOaEhla2RGUmVkSFhQcDRLM1lrVU16Y2FzSm1NTnNSMFNQS2gvVFN6Uk5zanh1bFd5VllwbTZOODM4aEVtNllZWnVwbGFXMmttbFU3TFprcWZGem9qa2lPUUs1d25uQ3hjSW5SVXNGQ2ppS3lhVmNKV3luMk0rejFCR2Q0SCtJbU01YXdWUHBmQWw2Y3RLVlJyVitqVm10VFoxamxmMlgvV3E5N3NXMmhCei9XaGorbzM4bXhlYnJqYmZhdWx0SGIzMXJHMzI5cWYyOVE3UWllMmk2V2J1NGJ6TDJ5dllKM3BQc2wvbXZ2eUE0cUR5a09xdytvTTlJeHFqbWcrMXgzVEhEU2FNSDVrOXRueGlNMmszNWZqVStkbSs1NjR2M0Y2NnZkci8ybVhhZHNiNGpjcXM0RnZhdDkvZnZYay9PTmM0WDd5UStNSC9vK1dpMGlldXo0alBINzg4V3VyKzJyQmN2bEx3TFdzMWNTMW1QV2pENDd2OXB1bVc1cmJzanVBUHRsM0N2K2dmaTFCQjRsRUFEVEE4V0J1cUU3aGhnaWd4a2ZvOXJTM2RBd1p0eGh2TUVpeVZiS3pzR1J4TFhOYmNWVHhmZUdYNDNQbVBDdVFMVmdyVlUvUy9JZG9rMWlUZUpORW9lVTJxWHZxS1RMVnNwZHdGK1JLRnM0bzVTaG5LeDFVU1ZDUFVmTlZkOWxob2FHc3FVTlRuMStIVzVkVGowdWN5SUJtU2pFakczQ1pjcG14bXpPYTBGb1M5R0V2WWN0ZHEyM3JMWnROMjIyN2JmdHRoeS9HNzA1cnpzc3ZuZlF1dWIvZS9kbnZ1UHVYeHhIUFM2eW41cGZlTXo2enZPNzg1Ly9tQWhjQ0ZvUG5ndVpDNTBQa0RuOExXSXVCSStpaUJhS1VZazRQN1lrTU9KY1JseFpjbTFCNXVvV1RUZ1dORGlRTkp2Y2R2SnplbVZLV1dwcDAra1pJZW14R1V1VC9MOHFUT0tmbHM0ZE9jWnhoemlMbFVlZWg4UkFFbzJEbjd2WEMxYUtuNFk4bTcwdWx6ejg1UGxJMWVHTDQ0V0Q1WU1WUTVmR25rOGtqVmFQVm96V2p0ZzdvSFY0YXVEdFlQWEJ0b0dMeitvSEhzeHVPYno1cGVOOCsyekxWK3VQV3BiZW4yY3Z1M082c2Q2NTNyWGV2ZEd6MGJkemQ2Ti9yVzc2MzFyOTVmR2ZnNitHWG8wL0NIQis5SFprZW5INzRZbXhxZm1CaDVkUDl4ejVQMnlhYXArcWRWejhxZUY3N0lmcG4yNnZEcnlHbS9HZWMzSnJNcWI0WGVNYndIN3hmbnB1WjdGeG8rbEh4TVhRei81UHJaNkl2Q0V2OVhsbVdhRmZ3MzNDcHVEYmVPMjhCOXA5ckVibUcyMFR1b0g0aGQ2S2Yrdjg5QmZocGFDWURMbEJyZHZna0FjMG9OZXQ0WUFJRWxTdjZnQnNDS0NJQ2RLb0Q1SndFTVp3Tm9KK3h2L2tBQkFtQ2lWSnNpbEVwVEF4Z0RXK0FCZ3NFaGtFYXBLQ3ZCRFhBWFRJQzNZQlhDUWh5UU5LUkhxUkFQUUduUUJhZ05lZ3d0dzNTd0hPd0FKOENYNFVjSUpLV21PNENvUXN4U3FqWVBaRG55UFVvU0ZZM3FRaFBRKzlCWE1SREdDWE1kUzQwTnhvNVF5Vk1WNHhDNEE3am5lQ044STRHTGtFNVlJL29RSjZuTnFMdHAxR2lhYU9WcGI5SXAwZDJtMTZVZllyQm5tR1lNWmZ6QmRKcFprTG1keFlGbGhUV0hUWUh0S2ZzeERsR09jYzU0TG42dUllNG9IbTZlUWRJaFhqSGVsM3k1L09ZQ0dJRmV3V1FoQTJHTThJQklwcWlGR0szWWhIaVJoS2VraE9TRzFIM3BJcGtRV1gwNUxybE4rUmNLZHhVYmxNcVZpMVR5VkhQVWN0WFA3am1uVWFWNVU2dFhlMUpuVVE5Sm1kdktoalpHb2NhWkpyV213MlpmTGRqMjZsdEdXRlZZVDlwUzJ4bmJKem5jY1Z4emxuRHgzSmZ2T3VnR3VhdDV4SGcyZWExNXEva2srZzc1c3dUNEJiWUYwNFVFaHc2R1NZU2ZpZmdlNVIwOWZsQXZ0aVZPS3I3cXNNQ1J5bU9DaWRYSHhaT3ZwU3FtM1VrM3pwak1Damo1STd2Z2pHek9hRjU0QWRQWk8wVUJKUnlsajg3blhuQXVGNmo0ZHVsZVZXbE5USjN0VmZsckxBMjdqUXMzcDVxSFd1KzI5YlQzZDB4MHpmWnM5TkgxU3c1WURJVS9LQnJ0Ry92MlNPU0orMVRSc3ljdkdWL2J6T1RNVHJ4bm1YZi9VTHU0K2NYaWErWEs3cHJiUnRlVzhNNlpYKzhQRkNCUzlPY0Jva0FlYUFKVDRBQzh3QUdRQURKQUVhZ0dyZUErZUFvK2dHMklCdUtIbENGemlBekZRVG5RRmFnZmVndkRNQjlzQUFmQ3VYQUgvQmxCUXRnalRpTDZrUWlrRGpJSjJZZkNvMnhRcGFnNXRDSTZCVDJKa2NBY3g3ekVxbUlMc1p0VTdsVDNjREs0VWp3T0g0dC9UM0FnM0NPcUV1dXBCYW5MYURocFNtaTVhTXZwUk9sdTBtdlRqeks0TVh4bVBNSkV5MVRCck1vOHhoTE1pbU90WmJOZ1cyRXY0VERrV09HOHlHWEZ0Y3Zkd09ORllpWU44NmJ5NmZBRC9tNkJGRUV6SVVhaDE4SjFJZ2RGZGNSd1l1UGl4UkpldjdUdmx5NlVDWkxWa1dPVCt5WS9wdENvZUZicG1QSUJGYktxcTVxVHV0TWVGdzBQVFgrdEtPMGtuVnpkS3IwTy9VbURaU09pc1ppSnNXbUFXYWI1ZFl1bmxrZ3JPV3V5elZuYkVYdXNnNEhqY2FkdTU5MTlHcTV4KzF2ZDFqMVVQWTk0OVhuVCtMajYxdm45Q0xBTnJBdEdoYmlIM2c1akRvK01lQmdsSFgwbVpqWFc5ZEM5ZUxtRThpT01SOU1Ub2FURHg3ZFNEcWNoVHB6TVlNK3NQYWx4NnRIcGtCeXEzSnA4czRLdmhVWEZCaVVyNXlySzdDOWl5KzlVUmwyV3JGcW9xYWtMdWlwVHY5SFEyNWh6MDd0WnZaWGwxdmJ0eFR2em5WOTdFTDJjOTlUdXV3NG1EdGVOVEkzaEpyUWV4MDdlZkxyOFF2S1Y5M1RCbTc2M3kzT2tCWnVQcVo4NnYyd3VxMzVMV0x2N25iamxzbFAzVjM5bVFBSmlRQkZvQXpQZ0JMeEJCRGdLVG9GU2NBVzBnMkh3RW55QllJZ0pFb1UwSVZzb0VFcUVpcUdiMENpMENPTmdjZGdDam9DTDRUNTRCY0dQY0VCa0llNGlkcEFxeUJoa00zSURwWTVLUkEyZ0dkRHU2S3ZvSFl3VjVoSm1HK3VBdlVGRlR4VkZOWVhUeEYzQ0UvRXgrR21DR2FHVktFUXNwTVpUSjFGdjBzVFFyTkJHMGE3UnhkUEQ5QmtNakF4bGpCS01iVXhtVEsrWm8xbW9XV3BaalZrWDJFNnl5N00vNTBqbWxPWjh6cFhHcmNqOWxxZUFaTVlMODdienhmSXI4MzhYNktDc2YzTmhKa3A5WHlFYUlDWXR0aWJlS1pFaDZTZ2xMTFVwUFNweldmYVluSnU4cG9LQUlxMFNRbWxMZVZObFd3MVd4KzloMVJEV1ZOT3kwZzdRU2RHdDFPdlRuelBFR29rWm01bUVtSjQyYXpHZjNrdXdWTGNLc1M2M2VXYkhaRy9ya09mNHhKblZaZCsrODY1djNFVGN3enphdlhCa1YrOEdYNnlmbDM5bklFOVFZdkRiVU9NRFY4SnBJdzVHdm80MmpXbU5GVDEwTHA0eDRkUVIvTkhNUk9xa3ZHU3VsTm8wMVJPREdlNlpheWZQWkV1ZEhzMkp6R1BQN3owYlhzUmIvTGcwODd6K0JlaGlkMFhLSmZNcWx1cTN0YzFYTXVxOUdqUWFPVy9zTk0yMkROOXF1MzMxVGxWbmRmZjF1NTE5WS8zemc0aGgzaEc5aHdIanVZKzZubng5S3ZqYzVXWG02K2FacWRsdjc0bnpRaDkwRnQwL0p5NWRXbjd3YldOZDZMdlRWdFpPNzAvOUkzM2w1WDZsRDRpZ1M1a01yM1ozVjRRQXdPUUE4UFA5c0ZXK3U3dFRRU2syWGdEUUZmejdiUDFYcnFFRm9MVHBKOTJMbXozMnIyZWsvd0ZETmtSMlh1aFJoQUFBQUFsd1NGbHpBQUFMRXdBQUN4TUJBSnFjR0FBQUVDUkpSRUZVV0lYTjJQdVRWT1dkeC9IM2M4N3AwL2VlbnA3dTZibmZZSmdaQm1RQVFWQVVVRFNBU3U2YmJOWkVONG5HMWRUR3phWTJteTNMc0lab0RDWWFNQ2JHeE1Ra1hpc2tSaVVRb3dpS2NoRUdrSkVaaG1IdTkrbWU2ZW5wNjduMHN6OE0yZG90LzREaytlVlVQVlduNnB6bjhucWU3MGNzMlhpTnpMNzVGZ1VubEg3dVRqS2Q3ekIzOUN3MjRLNHZKdDgzZ3dSY2l4WWdGSWtBWnJyQUdRSXpDVWxMa2dicWF3V3BBWmhDVXUwWFdBYW9LaGdabUVUaVExQ3N3NUFoaWJnRWZqZjB6a2lxcXdSYUZ2cmlFb0RtTm9FNUNsa0x6R25KRkxCb29hQzdSM0xqYlJwNW80QzQ1ZUFKMmZQRWRrVGxlaUpOcFhUZWZpdlJlM2ZoOVJvTTdUMUEyYlpQb3VZbkdYNytSMGpMUjA1SzJqWUpNa21KeXlVb3FoS0Vvd29uOWxpVVhxNFFLUmIwZGhSd09pV1dMWEI1b0xaTkpkNWxNNTZBdHF0VmVnOVpqR1FGVjkyZzh2N3ZMSEpGc0dLRHhzeFFnYXJsQ2g0cCtmMzNMUlp0VVNuUzROZ3JOcXR2YzlCY3J6QTBKbEVYYkx4NisvQXZIc0szN3BPNC9RV3lwY3VwV0xrVXhlY25jc1hsT0l1RGVDb3FNV1BEcEU5Mk1odndjL01YVkFvU0ZpMTNVRkd2NFBSQXFFeWhicFdLdzVRSWowSjlnOEFUVWxoOHVZYXVTVHhSbGNYTFZXeExFbWxSYVZtaVlPYWgraktGVUtWQ1RiV2c0NGhONlVLRnpIaUJmRkRoMm0wTy9HR0ZSV3RVUkFHRWhGd09sUHpnR1RLakRuemx0Y2lzamI5bUlkSTBzU3hRZFQrSjB5Zkp6ZVRJalEyaVZZU1lpeFhJQzZodVVYRjVJVHRSWU9SY0FhOFB1bzVaRk5XcUJJckFVU0tJVmd0c0EzSVpRRURCaG13YWhDcFFsZm1sSXpSUXBXRHd1TVcrcDIxaWNVQVZDQVRHbk9UQ0NZdFVHckJCS09Cd2dicncrazl1VjJxcWNZZWkyTGxwWXU4ZXhGTy9rRXpQU1diZTc4U2FqcE5ManBOczM0ZHdoVkNIYllnS1NxTk9CazRialBSSlVuRTMwK00yenFDQ09hMXhkSjlKY2FXUDNMUkZ4cEJVTjZxYzJXL2lDcnVwck5JNTlWS0JjMTBXdFUwS1ozNXZNUkdYWkJLU21kTUN5eTJKMWlvTXYyT1QxNTM0M1pLVGUwMUtGaWhrcGlUbjNpc2dBTmtZaEZ3Q0ZNQlRxV0tQMlBpQmRnYzRBdEFhaDNSTEk2SmdJVFJCdmd2NjdGNmdqb1ZoSnoyeDgwQ0FLb29aWm9DNlNCWDlVOE5BRVIvNTV3cmNXWjJYbmpmWWVHc254NStHTkZBYlhjVEFoS1J4Z1FPSHBTSjBCY1dieGs0Nm1lbFY4RGRrNk82OUNGVFNVT21pZDZRQVFKVW1VTC9lZHQzMjgxNkpwM29CaGJJaUpoeEJScXRLR1N2VnVEWGN4bEt2ai8zbEhpcHNnU1hBb1VpNlozTHNldXdCYW9zbmVlM29lenp3dzRkWlVhdXozOHJ6MVZzK3htamE0TDd0MzZLcHpPUzN2M2lIcm80SklNWm5QL3JmYlB2RXpkeXc2UnI2enU0bFZ5b1l1ZERIMU93a1U5TVRTS2VIZ2Y2THBKZ2tycFR4bzBlK1RiVnZqRGQ2Um1oYjdDWWNCV2RFUmJzdVc4UnJRdWRINlNYb0pQbUdhR2RMcHBrYWFuRGlZeWsxTkZyOVBDVkc4RHI4REp6dDRLWTcvNHUybGthZS9aYzMyUFhyRi9uVXRTdDVidmM1dHQvMkZkcHFuRHoyZzU5UXMzMEgxZllVai9BeXU1OThndXg0TDNPNm42M1hYOCtGRDlyWmRzczlISGo5ejZ5NTc0dEVTOHVwQ0FmNDdXT1BVbnZMbDFsUkgyYkhsNytLN2k5ank5WnRQUG44V3lnMVVheGNsbHd1Z1JMRVRRZEpjdGlNaVJsYVpDMWJDTkV0cHJHQk5BVTJVTU42TkVaMWxTU3dzcVdjWkdLVW93QlNZYUMzbHhkM1AwWEtzUEdGUXdDTURvNFJtNXpnTzd1ZlpzdjZkV3padXBXZUE2L3dRVWMzTC8zeWg5UXR1NEt2Ly9zM1dMZG1IV3VYTE1idGRQTnYzMzJZTDM3aVJ0WmN1WTd0ajM2RFA1M3F3bE5SQXdBT0YxMmRGN25wSCs1R0NlTGw4MmowaUJ5S1ZQbHJHeUtMQjRWK0pzaFRvQlFIY2N2Q0RmU09Kdkg0b3dCYzdCMWpKcGJnV0FZY3Vrb29IT1c2WnNncU5uVkxWMUpXNUNVK01jYnhFeWRJaUJDaFVER1ZFWXNmdjN5TXR0V3I2VGoyRm9tY1NTNmJSbmM2TWJJWnpwNXVwLzNzUmRZdXFNSk96QUFnYkpQNitrck9ubmdIZFVPa2FqdW9IR0thRmtJY0YvMFl3c05hV2N6N3hPZ1RhY1pFamc2U3pOZ1d0V0dkdnh3WjR5UFhyaUJzRDlNNWFhSmtZL1NNeGJqMjZqWEliQnFwZS9qMUd5ZFoydGhBKytFL1k3aUtVSTBzQi9lL2p1WjFjZXJJSGk1Yisya1doWFYrL3NSdjJQYnBUeUZ6Y1I3ZCtRanhnb095WWg5SGozekEwdVZMNlhoN0gyKy9kNDVJS0lDaWFadzRmZ0pCYzFpQ2h5WUU1OGxRZzQ5QnNwZkdXeVdNVGd5VGNod0VFUlFVQlptZm8vdGlscFpsZFdURzMyZGdBcG9XTCtEOHVZdnpyK2tPbGkwczRzeTVHTGlBM0h6M29wWTZSb2I2U2FmOFBQREQrOGtObmViK1I5N2ovbnUzY3QrT2g4RlRnaThUSndVVVZaV3hvTVJKSXAzRDR3cmcwTUUyTGRhczNZQ2dPU0xCRFJpQXlrSjBlc2dDR3Ezb2ZFQVNjTEVZSjdhUUZFd2JSOERIbGpYRkhEblV4N3RwSDdkdktlUFV3VDVPZEtxQUExL1VJaldSQTErQTVpcWJyaTRiRUZUVjJnd1BTQWdMaVBWRDFNTWRtNXI0MlRPbitPS2RHK2s2TnNTN3AweEFaMUdMcEx0ekRuQlExNkRSM3pzRHFGeS9lUVhhSHJtV280d1FwSVF3RmsrSlliNUNFMTZaNDBreHlpNjVtcnhJc290QmZFTEhTR1Z4MW5qWnNxR1d6ajkxOGFXUHRYTHRNajlUSTBtK2NFY05MbUhUM2o1TzVhSlNsSFNLbHc1TXNXdDNLL1pzaW4wSHhyam43bnBpZlRHKzl4T0RCNzY1bG1vdFE4NTlIVGVzRG5EeXdBQTdIMTVHQUl1ZlAvRUIzN3kzallocThmemVZZTc1MmtiVWJKYW5IbjhIclUvTWtwY3FkUlN4aWdCZTZXQXhGWnlsbjd2a1VxNmhHRk9XTUNpbTJDME5sdmhkV05OSlh0emJROCtZaXA0MDBOd2FMVXRLV2Q1V2htYVl1THdxdHNORFk3U01sdVlLMHFaTktGSk9jMU01Z2FBTG85SFBtYzVaV21vOHZQelRFeVRyR3ZCNE5KYXZpTEtxdVppQmlUbSsvZUExRlBtYzJKWkpjMnM1MDdNNXF1ckwyYmlxR21XY09Vb0lVNGVUTEJJZk51OHlUUXVWaE5HSWsrSVlrMHhRSUNSQmFnb3lrK2RuZnh4bHp1L0FvVWw4QVRkMTFWNWl5VFFYQm1ZSlYwV0l1QlFNRXp3dWxXUWlUelpuSTRSZ2FqekoyMGRHMlhoVEUwWTh3UzlmSCtTbDB4UEVraVl1WFNHYk5jbWJOcnBUSXpPWDQrVHBjZUpKQ3lOamtNbmFnRVJaSzJzd21lRVljVHFaNUtDWUJTeE9Nc3d1Y1pZT1VsallER01TUUZDUUVsU0Z5eHRjNUhXTmhvaVRzZjRFaVprMGI3ODF5S2t6RTd5Mjd3TG5CNU4wZFkzeDNDc1hxR21PVUIzVitlM1RweG1hemxGQXBkaXJjdWhBSDFESk4yK3NvNnpZeVZ6U0lsanNSY3NZUFBUZ1lZNTBUZU55Q1BhOTFrT2tQa0o1aVU1M2J4cEJjMVNDWS80YWhRMDRMejBGbFRnWUlROG8xT1BFQ1VnQjJBWE9kNXMwdHJpNDBKa0NKb0JTaWdJdU5BL0V4NjFMK3FScDNsREhYUit2STlZM3lmMlA5Z01TL0E0YVNqWE12TVhRc01KRER5MWpibUNjUHh4Sjg5RjFSVHl3dTR2R0pXVmM2SmdCTEJaZlU4WnROOVV5UFRERkV5K09vUkoyYjUvLzBBS2cwb3hPREFOUUtFTmpHZ1BRS0VkRENpaVlCVlNmaDg5L3ZKekVjSUl4djR2YlA5ZUsyOHB4WVNCSk5tWGhMM05qcEN4d2V3bmtzeno3d25FT0haMmx2akZBWXRvQW40TlN2MElnNHVIbTlRRWVldVE5UW8wUnNxUFR2UEJxQjFCS1UyT0k0YUVKUUdkcXdDUVVnTkhCSklPSkF0b2VlZVdIOU5oSjIvL1JZK1dIOUhEVmxITGp4bHJPN3p2UHJSOWJ3WVpsZmlhRzB1ejZ3bVVmMHVPUGIwN3g5Zi84T0hZaXhkNDNScm43OWxaaS9URys5M2c3T3g2K2tWbzlSOTRUNEthclFqeHdNczdEUDloR1FCVDQzWjV4ZG56dktzcThndTMvY1lhYnR5NWlybmVBVjk2OGlMbzZVclo5R3BzbFJMbUtNcXBRdVlKS1pwaGxCYlZjUnlrTitFbUxTZlppVWVYUXNHeWJWREpEKzlFa3ZxWVFiYzBCTEtseXpWVlZsSWZjZUlNYS9tSS9LMXFqTEY5Y2dpSUVsV1ZCcmx4ZHpzTDZZdXFydlV4T0dHeTVvWTc5ejV4Z05oaGlWWk9QbWRrQ1c2K3RJbVZMTm05cFJNdG5xU3dQVVZPUzRZVzNKNWthU3pHWmwzK1BlaGdZWmdITm9aQ1pNMGluTFRSTjRkRCtRVTcyWm9uNGxiOFhQV3FKQm5XU1NZdGdzUTh0azJmM1kyZHdWeFd6b041SFgrOGNWQlVSOUtpWU5uOGZlbngvNXpLTThUaDdEczJ5ZVcyQUIzZDNVbjlGUFhkOG9nSkhPczNqVDEya1AxV2d5S2RSSGxEK2VtSHlBaVlnYU1aSkZ4bEFwUkdkQzJRQW5SWjBDa0pTTUF0b2ZnK2IxeFJ6L1BBd3h6SWFYOXBjemdmdmpuRDRWQUpROEpmNW1CdlBnMXVuSVN6cEhSb0MvTlEzaHVtN2tJYVFpNmFJaXJ2SXhhcEdEMDgrY3hKUUNaUlhrQnliQUlxcGIzRFMxenNJS09DcDV2YlBWSkdKSi9qRDhkVGZVbzlUN05pNWhUcVBSYkJxRTB2cXZMejZ4MTZXLytzeVFucUI1MTdvNFk0N2J5YnFnZnZ1T2NYVlY5YVE2cE04OC9MMDMwNlBxVW1Eelp0cU9QaVhmamJmc0JBalo3RHFpbXBxb3k0MFhXUE42aW84cXFDc0xFaHRKTU9MaDZlSWphWC94bnJjdUFnam51QW56eWFSdGswbWErSjBxU1JHRS9UMnoxRVUwRWtuYzJUK254NDVJbjRGN1VwWncya21PWWFrQXBXaklrR2pkSEdLRVY0UTQzeFdOaUQvVnc4Rlcwb2Nxc3FhR28ydUtaT0dpSXV4dmdTSjJTemRQVEVLdVFLeUkwWjFWUUEzRnNmT3hQblVQeTZsVkxYWi9YZzdWMnlxcDRCSzBLZHk4UFV1V09EQzYzZFI1RkY1OXZsekZBYzFzbmxKejhVNGF6YzFzcURPeDRFOWMxRHF4KzhTWkF5Sm9MbEl6b3VoQVJiekJVRVNTT09rZ2p4NVFOQ0VHd2VnSTJnbkEwZ1dLMTdPblp1OXRJbWQ4NXNHY1VrZkg1Q2djWDBGZDMyMG5samZKTi9kM1Q5Zm82TFQwS0NoNUNTK0tnOGJWd1haK2VNT3BCckVyVWs4cGsyOHlzMkRkN1hnbUp2anB6L3JveWlpSXd1U05BWEVsdVkydVFTVm5Rd3lYeHZaWEVtRWZ5TEtmaTd3Q21rY3VER3hDYUV5elJ4M2N4bXRLUHhBbmdOWGdGTE40cGhkb0szZ3dKQUZkSWVEOXZZdWlEcFpVbHhEUjljMDRLRnBxY1o1TFFXMmdzUFFNZFVjR0JvTU9MaDhzWU1UZGc0TkRRMkp5eFlremczUEQwQkxCY2dVNEtVRkQ5cTljaGxKUnBrVkh0Ymk1cGNNOHgyNWtuSk16akhGRXl4bVJNU1lRQUlGM0VRd0VLeVRaYndxem5OTGJpWE5TQjduTEMrS05BMmFUbnQ3Ri9jOXRCTjcrSDIrdS9zM3JGNjFtR1F1UzRuaDVXdEdLMjRNM2hRenJMZEtPYW9PczM1Uk02MVpoU2ZweGlsVURDa3dSWjZTWlF0WkxyMTA1aFBVRUdST3pMS0RYclJ4Y29RSmNhZjA0RVZna3llQnhUZ2p6T0trbVRDclpERkpjcHdXMHl5VlJmeUtQdUtVTUVtU0RCYXo1TGtvc29SUlFCRUFSS0psMkprQkFBcUdvTXRNYzdkbzRIb1o1bmYwY2J0c3BSU1ZCVktuMnpTWXhzTEd4ODB5U0Q4bXVyU296a1ZKTUVFanBUU2drNWRlUGlOR1VVd2tYaHprTVRqTEZJZkZKSEVNK3BoaEdlVzRrQWdFSmphTk1rd1FuVG55dUhHempVck9pamtLcUZpWERpY3A1OE54MHpDeHJMK2VqUE96NUVWaGtqamZFa2N4Z0NGbU9DTEc2QlJwQ21qRVJRb1ZGNDBFVVJBWTVQbVYrQXNUR1BRelFSS0xjcHhvT2liUGlRdDRaSWhXM0tRb2NGS01rQ1ZQakJIS1pBVTVNY2Roa215Vk5ad1UwN3hFbkZiR3FTVENxd3l4akFXc3BJUzNtYWJ0VXVDVG1rdFJTT2ZuZjZCUW9CUVBuY1R3Q3pjdVF2eEtkTEZGUmpHUjdHZVl5MWhJR1RadmttQTViZzZKY1VySVlGTEgrMktTRVN3MGNsd2tqNkE1S01GL1NRNlRNSDVpNUhHaEU4Um1uRFRnd0lHT3lTemdvUlhmcFdoQnV4UTV6QUlCV3RFd1pBR243cURqYkRjQVM1WTJrVGNNTktFd2k4a29Oa3R3YzU0Y0pqbkF6U0pVdWtrQVJjeUhKRGtnQ0pqVTRHSVNneHdLWUJORzUzOEFDYVloc2tXMURHQUFBQUFBU1VWT1JLNUNZSUk9',
			dates: {
				created: 'VHVlIEFwciAxNSAyMDE0IDIxOjQzOjE0IEdNVC0wNDAwIChFRFQp',
				lastUpdated: 'VHVlIEFwciAxNSAyMDE0IDIxOjQzOjE0IEdNVC0wNDAwIChFRFQp',
			},
			update: 'VGhpcyBpcyB0aGUgQWRtaW5pc3RyYXRvci4='
		};
	}
	var _user = user || {};
	this.username = _user.username || "Guest";
	this.password = _user.password || "Password";
	this.token = _user.token || "";
	this.facebyte = _user.facebyte || "";
	this.dates = _user.dates || {
		created: new Date(),
		lastUpdated: new Date()
	};
	this.update = _user.update || "Hey, facebytes! Care to welcome @"+this.username+" to facebyte? :)";
}
User.prototype.userAttributeDecoded = function (encoded) {
	return atob(encoded);
}
User.prototype.userAttributeEncoded = function (decoded) {
	return btoa(decoded);
}
User.prototype.usernameBase64 = function () {
	return btoa(this.username);
}
User.prototype.passwordBase64 = function () {
	return btoa(this.password);
}
User.prototype.tokenBase64 = function () {
	return btoa(this.token);
}
User.prototype.facebyteBase64 = function () {
	return btoa(this.facebyte);
}